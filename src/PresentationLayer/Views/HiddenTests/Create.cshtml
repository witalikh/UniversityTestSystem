@using DataAccessLayer.Enums
@using DynamicVML.Extensions
@using Microsoft.AspNetCore.Mvc.TagHelpers
@model BusinessLayer.ViewModels.TestViewModel

@{
    ViewData["Title"] = "Create Test";
}

<h2>@ViewData["Title"]</h2>

<form asp-controller="Tests" asp-action="Create" method="post">
    <div class="form-group">
        <label asp-for="StartDateTime" class="control-label"></label>
        <input asp-for="StartDateTime" class="form-control" />
        <span asp-validation-for="StartDateTime" class="text-danger"></span>
    </div>
    <div class="form-group">
        <label asp-for="EndDateTime" class="control-label"></label>
        <input asp-for="EndDateTime" class="form-control" />
        <span asp-validation-for="EndDateTime" class="text-danger"></span>
    </div>
    <div class="form-group">
        <label asp-for="DurationSeconds" class="control-label"></label>
        <input asp-for="DurationSeconds" class="form-control" />
        <span asp-validation-for="DurationSeconds" class="text-danger"></span>
    </div>
    <div class="form-group">
        <label asp-for="AttemptsAllowed" class="control-label"></label>
        <input asp-for="AttemptsAllowed" class="form-control" />
        <span asp-validation-for="AttemptsAllowed" class="text-danger"></span>
    </div>
    <div class="form-group">
        <label asp-for="TotalGrade" class="control-label"></label>
        <input asp-for="TotalGrade" class="form-control" />
        <span asp-validation-for="TotalGrade" class="text-danger"></span>
    </div>

    <h4>Questions</h4>

    <div id="question-list">
    </div>

    <button id="add-question" type="button" class="btn btn-primary">Add Question</button>
    
    <button type="submit" class="btn btn-primary">Save Test</button>
</form>

@section scripts {
    <script>
        $(document).ready(function() {
            $("#add-question").click(function() {
                $.get("/Tests/GetQuestionEditor", function(data) {
                    $("#question-list").append(data);
                });
            });
        });
    </script>
}